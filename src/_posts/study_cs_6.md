---
title: "브라우저의 동작 원리에 대해 알아보자."
mainCategory: "study"
subCategory: "study_cs"
description: "브라우저의 동작 원리!"
coverImg: "/assets/study/cs/6_1.jpg"
---

## 오늘의 기술면접 질문

#### "브라우저의 동작 원리에 대해 설명해주세요."

기술면접 단골 질문 중 하나다.

처음 이 질문을 들었을 땐, '걍 창 띡 열고 더블유더블유더블유 쩜 어쩌구 치면 띡 나오는 게 브라우저지 뭘...' 싶었지만, 그렇게 대답하면 안되니까...

브라우저가 정확히 뭔지, 어떻게 동작하는지를 공부해보자.

여기서 `브라우저의 동작 원리` 란, 브라우저가 하나의 화면을 그려내는(렌더링하는) 과정을 말한다. **브라우저와 웹 서버간의 통신 원리를 말하는 게 아니다!!**

***

## 브라우저 파헤치기

### 1. 브라우저가 뭔데?

> 브라우저는 html, css, js 언어를 해석해 그 내용을 화면 상에 보여주는 응용 소프트웨어이다!

크롬, 사파리, 파이어폭스 등이 웹 브라우저이다.

### 2. 그럼 그 브라우저가 하는 일은 뭔데?

즉!! 브라우저는 html, css, js 언어를 해석하고, - (1) 

해석한 걸 토대로 화면상에 paint 해주는 일을 한다. - (2)

우리가 말하는 `브라우저의 동작` 이란 `브라우저가 html, css, js 언어를 해석해 화면에 painting 하는 작업`을 말하는 것.

### 3. 브라우저가 어떻게 화면에 그리는 일을 하는지? ( = 브라우저의 동작 원리)

참고로 아래 사진은 브라우저의 기본 구조이다. 

![image](/assets/study/cs/6_1.png)


브라우저가 하나의 화면을 그리는 과정을 **중요 렌더링 경로, critical rendering path** 라고 한다. 이 과정을 살펴보자면,

1) 서버에게 response로 html 문서를 받으면, 브라우저의 렌더링 엔진은 `html 데이터를 파싱 parsing`한다.
  1-1) 참고로 이 과정에서 이미지 같은 논 블로킹 자원을 발견하면 해당 자원을 요청하고 파싱을 계속한다.
  1-2) 파싱 도중 `<script>` 태그를 만나면 파싱이 중지되고 자바스크립트 엔진이 `<script>` 태그를 해석한다. 해석이 끝나면야 다시 파싱이 진행된다. html, css는 렌더링 엔진이 담당하지만 js는 자바스크립트 엔진이 따로 담당하기 때문. 브라우저는 **동기적으로** 작동하기 때문에, html 파서가 script 태그를 만나면 프로세스 제어 권한이 렌더링 엔진에서 자바스크립트 엔진으로 넘어가 js 코드를 실행한다. js의 실행이 다 끝나고 나면, 그제야 다시 제어 권한이 렌더링 엔진으로 넘어가 html 파싱을 이어간다.
  1-3) `파싱 도중 CSS 파일 링크를 만나면 서버에게 CSS 파일을 요청`해서 받아온다.

2) html 데이터를 파싱하면서, 동시에 `DOM tree가 점진적으로 구축된다`.
  2-1) 이 때 CSSOM 생성도 DOM tree 생성과 병렬적으로 동작하기 때문에,DOM 트리 생성 도중 CSS 파일을 읽어서 `CSSOM, css object model`을 만든다.

3) DOM tree, CSSOM 둘 다 모두 만들어지면 `이 둘을 사용해 Render tree`를 만든다. 두 트리를 합치는 과정이기에 이 과정을 `attachment` 라고도 한다. (참고로 DOM tree는 `<head>` 태그 같이 눈에 안 보이는 태그 요소도 따지지만, Render tree는 화면 상에 보여질 요소들만 따진다.)

4) Render tree의 각 노드들이 화면 어디에 어떻게 위치할지 계산한다. 이를 `layout` 과정이라 한다! 

5) 화면에 실제 픽셀을 paint한다. 

![image](/assets/study/cs/6_2.png)

사진으로 총정리하기. html parser과 css parser이 병렬적으로(비동기적으로) 작업중인 것 같지만, 동기적으로 작업한단 걸 기억하자.

***

## 총정리

#### Q. 브라우저의 동작 원리에 대해 설명해주세요.

A.
브라우저는 서버로부터 받은 데이터를 화면에 그려주는 일을 하는데, 그러기 위해 먼저 렌더링 엔진의 html parser이 html 데이터를 파싱하고, DOM tree를 생성합니다.

그 과정에서 css 링크나 스타일 태그를 만나면 CSS 데이터를 파싱하고, CSSOM이라는 css object model을 트리구조로 생성합니다.

그 후 DOM tree와 CSSOM을 합쳐 Render tree를 생성하고,

생성된 Render tree의 요소를 화면에 어떻게 배치할지 계산하는 layout 과정이 진행됩니다.

그 후 실제 화면에 요소들이 그려지는, painting 과정이 일어납니다.