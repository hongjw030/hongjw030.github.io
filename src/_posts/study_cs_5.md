---
title: "자바스크립트의 this 객체란?"
mainCategory: "study"
subCategory: "study_cs"
description: "자바스크립트의 this 객체에 대해 알아보자."
coverImg: "/assets/study/cs/5_1.png"
---

## 오늘의 기술면접 질문

####  자바스크립트의 this에 대해 말해주세요.

자바스크립트에서 this 객체는 좀 독특한 성질을 지니고 있다. 그래서 가끔 기술 면접에서 물어보는 모양이다...

이번 포스팅에서는 js에서의 this 객체에 대해 알아보겠다.

![image](/assets/study/cs/5_1.png)
(이놈은 대체 뭔가?)

***

## js의 this 파헤치기.


### 1. this가 뭔데?

자바스크립트에서 `this` 키워드는, 현재 코드가 실행되는 컨텍스트를 참조하는 객체이다. 떄문에 어떤 코드가 실행될 때, 그의 컨텍스트에 따라 this의 모습도 달라진다.

이는 자바스크립트의 this 값은 함수가 호출되는 방식에 따라 런타임에 동적으로 결정되기 때문이다!! 이걸 `동적 바인딩`이라 한다.

### 2. 그럼 this는 어떨 때 어떤 모습으로 나타나는가?

1. 함수 외부, 전역 컨텍스트에서 `this` 객체를 불러온다면 이는 전역 객체 모습이다. (브라우저에선 `window` 객체)

2. 일반 함수 내에서 `this`를 불러온다면, 이 this는 전역 객체 모습을 띈다.

3. 객체 내부에 있는 메소드에서 `this`를 불러온다면, this는 해당 메소드를 소유한 객체의 모습이다.

4. `new` 키워드와 함께 생성자 함수를 사용했을 때의 `this`는 새로 생성된 객체 인스턴스의 모습이다.

5. 화살표 함수 내부에서 `this` 객체를 불러온다면 주변 렉시컬 스코프를 참조해서 this 값을 받아오며, 이는 화살표 함수엔 this 컨텍스트가 없기 때문이다.

6. call, apply, bind 메소드를 사용해 this를 명시적으로 설정할 수도 있다.

### 3. 잠깐만... 생성자 함수가 뭔데?

자바스크립트에는 class 개념이 희미하다(?) (원래는 class 문법 자체가 없었는데 최근 생긴 걸로 알고 있음. + 근데 이렇게 새로 생겨난 class 문법조차도 클래스 기반 언어처럼 동작하는 게 아니라, js의 생성자 함수를 기반으로 생겨난 문법임. 그저 `semantic sugar`일 뿐!! + 애초에 js는 프로토타입 기반 언어라 자바 같은 클래스 기반 언어와는 좀 다름.) 그래서 다른 언어들처럼 객체 지향 프로그래밍을 위해 instance를 만들 때엔 class를 따로 정의하는 게 아니라, 생성자 함수를 만들어 instance를 생성한다.

```javascript
// 생성자 함수 Person
function Person(name, age){
  this.name = name;
  this.age = age;
}

const person1 = new Person("hongjw", 30);
const person2 = new Person("hellen", 25);
```

위의 예시에서 생성자 함수 Person이 있는데, `new` 키워드를 사용해 새로운 인스턴스 `person1`을 만들었다. `new` 키워드를 통해 호출된 함수 내부에는 일단 빈 객체가 새로 생성되고 this 가 바인딩 된다. 
생성자 함수에 return 문이 명시되어 있지 않은 경우에는 this로 바인딩 된, 새로 생성된 객체가 리턴된다. 

person2 객체에서, this는 person2를 가리킨다.


### 4. 그럼... 화살표 함수엔 this 컨텍스트가 없다는 게 무슨 뜻일까?

말 그대로 화살표 함수를 실행할 때엔 this 객체가 그 내부에서 동적 바인딩이 일어나지 않는다는 뜻이다.

대신 this는 화살표 함수가 정의된 컨텍스트를 참조하게 된다.

***

## 총정리

#### Q. 자바스크립트의 this에 대해 말해주세요.

A. 
자바스크립트의 `this` 는 현재 코드가 실행되는 컨텍스트를 참조하는 객체입니다. 자바스크립트는 함수의 호출 방식에 따라 this 값을 런타임 중에 동적으로 결정하는, 동적 바인딩을 합니다. 때문에 this 객체는 함수 호출에 따라 그 모습이 달라집니다.

예를 들어 함수가 전역 범위에서 호출되는 경우 this는 브라우저의 window, Node js에서의 global과 같은 전역 객체를 참조합니다. 그리고 만약 객체 내 메소드를 호출할 경우 this는 해당 객체를 참조합니다.

이렇게 this는 보통 동적 바인딩으로 값이 정해지지만, 화살표 함수에서처럼 특정 상황에선 동적 바인딩되지 않고 렉시컬 스코프로부터 값을 상속받는 식으로 값이 정해질 수도 있고, apply, bind, call 같은 메소드를 써서 아예 this 값을 명시적으로 정해줄 수도 있습니다.